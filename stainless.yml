organization:
  name: letta
  docs: https://docs.letta.com
  contact: dev-feedback@letta.com

# `targets` define the output targets and their customization options, such as
# whether to emit the Node SDK and what it's package name should be.
targets:
  node:
    package_name: "@letta-ai/letta"
    production_repo: letta-ai/letta-node
    publish:
      npm: true
  python:
    package_name: letta
    production_repo: letta-ai/letta-python
    publish:
      pypi: false

# `client_settings` define settings for the API client, such as extra constructor
# arguments (used for authentication), retry behavior, idempotency, etc.
client_settings:
  opts:
    bearer_token:
      type: string
      description: Bearer token required for authentication
      nullable: false
      read_env: BEARER_TOKEN
      auth:
        security_scheme: bearerAuth
        role: value

# `environments` are a map of the name of the environment (e.g. "sandbox",
# "production") to the corresponding url to use.
environments:
  production: https://app.letta.com
  local: http://localhost:8283

# `pagination` defines [pagination schemes] which provides a template to match
# endpoints and generate next-page and auto-pagination helpers in the SDKs.
pagination:
  []

# `resources` define the structure and organziation for your API, such as how
# methods and models are grouped together and accessed. See the [configuration
# guide] for more information.
#
# [configuration guide]:
#   https://app.stainlessapi.com/docs/guides/configure#resources
resources:
  agents:
    models:
      agentState: AgentState
    methods:
      list: get /v1/agents/
      create: post /v1/agents/
      update: patch /v1/agents/{agent_id}
      retrieve: get /v1/agents/{agent_id}
      delete: delete /v1/agents/{agent_id}
      migrate: post /v1/agents/{agent_id}/migrate
    subresources:
      messages:
        methods:
          list: get /v1/agents/{agent_id}/messages
          create: post /v1/agents/{agent_id}/messages
          update: patch /v1/agents/{agent_id}/messages/{message_id}


settings:
  license: Apache-2.0

# `readme` is used to configure the code snippets that will be rendered in the
# README.md of various SDKs. In particular, you can change the `headline`
# snippet's endpoint and the arguments to call it with.
readme:
  example_requests:
    default:
      type: request
      endpoint: get /v1/agents/
      params:
        &ref_0 {}
    headline:
      type: request
      endpoint: get /v1/agents/
      params: *ref_0
    pagination:
      type: request
      endpoint: get /v1/agents/
      params:
        {}
