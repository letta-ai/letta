---
slug: python-reference/LocalClient
---

<a id="letta.client.client.LocalClient"></a>

## LocalClient

```python
class LocalClient(AbstractClient)
```

A local client for Letta, which corresponds to a single user.

**Attributes**:

- `auto_save` _bool_ - Whether to automatically save changes.
- `user_id` _str_ - The user ID.
- `debug` _bool_ - Whether to print debug information.
- `interface` _QueuingInterface_ - The interface for the client.
- `server` _SyncServer_ - The server for the client.

<a id="letta.client.client.LocalClient.__init__"></a>

#### \_\_init\_\_

```python
def __init__(auto_save: bool = False,
             user_id: Optional[str] = None,
             debug: bool = False)
```

Initializes a new instance of Client class.

**Arguments**:

- `auto_save` _bool_ - Whether to automatically save changes.
- `user_id` _str_ - The user ID.
- `debug` _bool_ - Whether to print debug information.

<a id="letta.client.client.LocalClient.agent_exists"></a>

#### agent\_exists

```python
def agent_exists(agent_id: Optional[str] = None,
                 agent_name: Optional[str] = None) -> bool
```

Check if an agent exists

**Arguments**:

- `agent_id` _str_ - ID of the agent
- `agent_name` _str_ - Name of the agent
  

**Returns**:

- `exists` _bool_ - `True` if the agent exists, `False` otherwise

<a id="letta.client.client.LocalClient.create_agent"></a>

#### create\_agent

```python
def create_agent(name: Optional[str] = None,
                 embedding_config: Optional[EmbeddingConfig] = None,
                 llm_config: Optional[LLMConfig] = None,
                 memory: Memory = ChatMemory(
                     human=get_human_text(DEFAULT_HUMAN),
                     persona=get_persona_text(DEFAULT_PERSONA)),
                 system: Optional[str] = None,
                 tools: Optional[List[str]] = None,
                 include_base_tools: Optional[bool] = True,
                 metadata: Optional[Dict] = {
                     "human:": DEFAULT_HUMAN,
                     "persona": DEFAULT_PERSONA
                 },
                 description: Optional[str] = None) -> AgentState
```

Create an agent

**Arguments**:

- `name` _str_ - Name of the agent
- `embedding_config` _EmbeddingConfig_ - Embedding configuration
- `llm_config` _LLMConfig_ - LLM configuration
- `memory` _Memory_ - Memory configuration
- `system` _str_ - System configuration
- `tools` _List[str]_ - List of tools
- `include_base_tools` _bool_ - Include base tools
- `metadata` _Dict_ - Metadata
- `description` _str_ - Description
  

**Returns**:

- `agent_state` _AgentState_ - State of the created agent

<a id="letta.client.client.LocalClient.update_agent"></a>

#### update\_agent

```python
def update_agent(agent_id: str,
                 name: Optional[str] = None,
                 description: Optional[str] = None,
                 system: Optional[str] = None,
                 tools: Optional[List[str]] = None,
                 metadata: Optional[Dict] = None,
                 llm_config: Optional[LLMConfig] = None,
                 embedding_config: Optional[EmbeddingConfig] = None,
                 message_ids: Optional[List[str]] = None,
                 memory: Optional[Memory] = None)
```

Update an existing agent

**Arguments**:

- `agent_id` _str_ - ID of the agent
- `name` _str_ - Name of the agent
- `description` _str_ - Description of the agent
- `system` _str_ - System configuration
- `tools` _List[str]_ - List of tools
- `metadata` _Dict_ - Metadata
- `llm_config` _LLMConfig_ - LLM configuration
- `embedding_config` _EmbeddingConfig_ - Embedding configuration
- `message_ids` _List[str]_ - List of message IDs
- `memory` _Memory_ - Memory configuration
  

**Returns**:

- `agent_state` _AgentState_ - State of the updated agent

<a id="letta.client.client.LocalClient.rename_agent"></a>

#### rename\_agent

```python
def rename_agent(agent_id: str, new_name: str)
```

Rename an agent

**Arguments**:

- `agent_id` _str_ - ID of the agent
- `new_name` _str_ - New name for the agent

<a id="letta.client.client.LocalClient.delete_agent"></a>

#### delete\_agent

```python
def delete_agent(agent_id: str)
```

Delete an agent

**Arguments**:

- `agent_id` _str_ - ID of the agent to delete

<a id="letta.client.client.LocalClient.get_agent"></a>

#### get\_agent

```python
def get_agent(agent_id: str) -> AgentState
```

Get an agent's state by it's ID.

**Arguments**:

- `agent_id` _str_ - ID of the agent
  

**Returns**:

- `agent_state` _AgentState_ - State representation of the agent

<a id="letta.client.client.LocalClient.get_agent_id"></a>

#### get\_agent\_id

```python
def get_agent_id(agent_name: str) -> AgentState
```

Get the ID of an agent by name (names are unique per user)

**Arguments**:

- `agent_name` _str_ - Name of the agent
  

**Returns**:

- `agent_id` _str_ - ID of the agent

<a id="letta.client.client.LocalClient.get_in_context_memory"></a>

#### get\_in\_context\_memory

```python
def get_in_context_memory(agent_id: str) -> Memory
```

Get the in-contxt (i.e. core) memory of an agent

**Arguments**:

- `agent_id` _str_ - ID of the agent
  

**Returns**:

- `memory` _Memory_ - In-context memory of the agent

<a id="letta.client.client.LocalClient.update_in_context_memory"></a>

#### update\_in\_context\_memory

```python
def update_in_context_memory(agent_id: str, section: str,
                             value: Union[List[str], str]) -> Memory
```

Update the in-context memory of an agent

**Arguments**:

- `agent_id` _str_ - ID of the agent
  

**Returns**:

- `memory` _Memory_ - The updated in-context memory of the agent

<a id="letta.client.client.LocalClient.get_archival_memory_summary"></a>

#### get\_archival\_memory\_summary

```python
def get_archival_memory_summary(agent_id: str) -> ArchivalMemorySummary
```

Get a summary of the archival memory of an agent

**Arguments**:

- `agent_id` _str_ - ID of the agent
  

**Returns**:

- `summary` _ArchivalMemorySummary_ - Summary of the archival memory

<a id="letta.client.client.LocalClient.get_recall_memory_summary"></a>

#### get\_recall\_memory\_summary

```python
def get_recall_memory_summary(agent_id: str) -> RecallMemorySummary
```

Get a summary of the recall memory of an agent

**Arguments**:

- `agent_id` _str_ - ID of the agent
  

**Returns**:

- `summary` _RecallMemorySummary_ - Summary of the recall memory

<a id="letta.client.client.LocalClient.get_in_context_messages"></a>

#### get\_in\_context\_messages

```python
def get_in_context_messages(agent_id: str) -> List[Message]
```

Get in-context messages of an agent

**Arguments**:

- `agent_id` _str_ - ID of the agent
  

**Returns**:

- `messages` _List[Message]_ - List of in-context messages

<a id="letta.client.client.LocalClient.send_message"></a>

#### send\_message

```python
def send_message(
        message: str,
        role: str,
        agent_id: Optional[str] = None,
        agent_name: Optional[str] = None,
        stream_steps: bool = False,
        stream_tokens: bool = False,
        include_full_message: Optional[bool] = False) -> LettaResponse
```

Send a message to an agent

**Arguments**:

- `message` _str_ - Message to send
- `role` _str_ - Role of the message
- `agent_id` _str_ - ID of the agent
- `name(str)` - Name of the sender
- `stream` _bool_ - Stream the response (default: `False`)
  

**Returns**:

- `response` _LettaResponse_ - Response from the agent

<a id="letta.client.client.LocalClient.user_message"></a>

#### user\_message

```python
def user_message(
        agent_id: str,
        message: str,
        include_full_message: Optional[bool] = False) -> LettaResponse
```

Send a message to an agent as a user

**Arguments**:

- `agent_id` _str_ - ID of the agent
- `message` _str_ - Message to send
  

**Returns**:

- `response` _LettaResponse_ - Response from the agent

<a id="letta.client.client.LocalClient.run_command"></a>

#### run\_command

```python
def run_command(agent_id: str, command: str) -> LettaResponse
```

Run a command on the agent

**Arguments**:

- `agent_id` _str_ - The agent ID
- `command` _str_ - The command to run
  

**Returns**:

- `LettaResponse` - The response from the agent

<a id="letta.client.client.LocalClient.create_human"></a>

#### create\_human

```python
def create_human(name: str, text: str)
```

Create a human block template (saved human string to pre-fill `ChatMemory`)

**Arguments**:

- `name` _str_ - Name of the human block
- `text` _str_ - Text of the human block
  

**Returns**:

- `human` _Human_ - Human block

<a id="letta.client.client.LocalClient.create_persona"></a>

#### create\_persona

```python
def create_persona(name: str, text: str)
```

Create a persona block template (saved persona string to pre-fill `ChatMemory`)

**Arguments**:

- `name` _str_ - Name of the persona block
- `text` _str_ - Text of the persona block
  

**Returns**:

- `persona` _Persona_ - Persona block

<a id="letta.client.client.LocalClient.list_humans"></a>

#### list\_humans

```python
def list_humans()
```

List available human block templates

**Returns**:

- `humans` _List[Human]_ - List of human blocks

<a id="letta.client.client.LocalClient.list_personas"></a>

#### list\_personas

```python
def list_personas() -> List[Persona]
```

List available persona block templates

**Returns**:

- `personas` _List[Persona]_ - List of persona blocks

<a id="letta.client.client.LocalClient.update_human"></a>

#### update\_human

```python
def update_human(human_id: str, text: str)
```

Update a human block template

**Arguments**:

- `human_id` _str_ - ID of the human block
- `text` _str_ - Text of the human block
  

**Returns**:

- `human` _Human_ - Updated human block

<a id="letta.client.client.LocalClient.update_persona"></a>

#### update\_persona

```python
def update_persona(persona_id: str, text: str)
```

Update a persona block template

**Arguments**:

- `persona_id` _str_ - ID of the persona block
- `text` _str_ - Text of the persona block
  

**Returns**:

- `persona` _Persona_ - Updated persona block

<a id="letta.client.client.LocalClient.get_persona"></a>

#### get\_persona

```python
def get_persona(id: str) -> Persona
```

Get a persona block template

**Arguments**:

- `id` _str_ - ID of the persona block
  

**Returns**:

- `persona` _Persona_ - Persona block

<a id="letta.client.client.LocalClient.get_human"></a>

#### get\_human

```python
def get_human(id: str) -> Human
```

Get a human block template

**Arguments**:

- `id` _str_ - ID of the human block
  

**Returns**:

- `human` _Human_ - Human block

<a id="letta.client.client.LocalClient.get_persona_id"></a>

#### get\_persona\_id

```python
def get_persona_id(name: str) -> str
```

Get the ID of a persona block template

**Arguments**:

- `name` _str_ - Name of the persona block
  

**Returns**:

- `id` _str_ - ID of the persona block

<a id="letta.client.client.LocalClient.get_human_id"></a>

#### get\_human\_id

```python
def get_human_id(name: str) -> str
```

Get the ID of a human block template

**Arguments**:

- `name` _str_ - Name of the human block
  

**Returns**:

- `id` _str_ - ID of the human block

<a id="letta.client.client.LocalClient.delete_persona"></a>

#### delete\_persona

```python
def delete_persona(id: str)
```

Delete a persona block template

**Arguments**:

- `id` _str_ - ID of the persona block

<a id="letta.client.client.LocalClient.delete_human"></a>

#### delete\_human

```python
def delete_human(id: str)
```

Delete a human block template

**Arguments**:

- `id` _str_ - ID of the human block

<a id="letta.client.client.LocalClient.add_tool"></a>

#### add\_tool

```python
def add_tool(tool: Tool, update: Optional[bool] = True) -> Tool
```

Adds a tool directly.

**Arguments**:

- `tool` _Tool_ - The tool to add.
- `update` _bool, optional_ - Update the tool if it already exists. Defaults to True.
  

**Returns**:

  None

<a id="letta.client.client.LocalClient.create_tool"></a>

#### create\_tool

```python
def create_tool(func,
                name: Optional[str] = None,
                update: Optional[bool] = True,
                tags: Optional[List[str]] = None) -> Tool
```

Create a tool. This stores the source code of function on the server, so that the server can execute the function and generate an OpenAI JSON schemas for it when using with an agent.

**Arguments**:

- `func` _callable_ - The function to create a tool for.
- `name` - (str): Name of the tool (must be unique per-user.)
- `tags` _Optional[List[str]], optional_ - Tags for the tool. Defaults to None.
- `update` _bool, optional_ - Update the tool if it already exists. Defaults to True.
  

**Returns**:

- `tool` _Tool_ - The created tool.

<a id="letta.client.client.LocalClient.update_tool"></a>

#### update\_tool

```python
def update_tool(id: str,
                name: Optional[str] = None,
                func: Optional[callable] = None,
                tags: Optional[List[str]] = None) -> Tool
```

Update a tool with provided parameters (name, func, tags)

**Arguments**:

- `id` _str_ - ID of the tool
- `name` _str_ - Name of the tool
- `func` _callable_ - Function to wrap in a tool
- `tags` _List[str]_ - Tags for the tool
  

**Returns**:

- `tool` _Tool_ - Updated tool

<a id="letta.client.client.LocalClient.list_tools"></a>

#### list\_tools

```python
def list_tools()
```

List available tools for the user.

**Returns**:

- `tools` _List[Tool]_ - List of tools

<a id="letta.client.client.LocalClient.get_tool"></a>

#### get\_tool

```python
def get_tool(id: str) -> Optional[Tool]
```

Get a tool give its ID.

**Arguments**:

- `id` _str_ - ID of the tool
  

**Returns**:

- `tool` _Tool_ - Tool

<a id="letta.client.client.LocalClient.delete_tool"></a>

#### delete\_tool

```python
def delete_tool(id: str)
```

Delete a tool given the ID.

**Arguments**:

- `id` _str_ - ID of the tool

<a id="letta.client.client.LocalClient.get_tool_id"></a>

#### get\_tool\_id

```python
def get_tool_id(name: str) -> Optional[str]
```

Get the ID of a tool

**Arguments**:

- `name` _str_ - Name of the tool
  

**Returns**:

- `id` _str_ - ID of the tool (`None` if not found)

<a id="letta.client.client.LocalClient.load_data"></a>

#### load\_data

```python
def load_data(connector: DataConnector, source_name: str)
```

Load data into a source

**Arguments**:

- `connector` _DataConnector_ - Data connector
- `source_name` _str_ - Name of the source

<a id="letta.client.client.LocalClient.load_file_into_source"></a>

#### load\_file\_into\_source

```python
def load_file_into_source(filename: str, source_id: str, blocking=True)
```

Load a file into a source

**Arguments**:

- `filename` _str_ - Name of the file
- `source_id` _str_ - ID of the source
- `blocking` _bool_ - Block until the job is complete
  

**Returns**:

- `job` _Job_ - Data loading job including job status and metadata

<a id="letta.client.client.LocalClient.create_source"></a>

#### create\_source

```python
def create_source(name: str) -> Source
```

Create a source

**Arguments**:

- `name` _str_ - Name of the source
  

**Returns**:

- `source` _Source_ - Created source

<a id="letta.client.client.LocalClient.delete_source"></a>

#### delete\_source

```python
def delete_source(source_id: str)
```

Delete a source

**Arguments**:

- `source_id` _str_ - ID of the source

<a id="letta.client.client.LocalClient.get_source"></a>

#### get\_source

```python
def get_source(source_id: str) -> Source
```

Get a source given the ID.

**Arguments**:

- `source_id` _str_ - ID of the source
  

**Returns**:

- `source` _Source_ - Source

<a id="letta.client.client.LocalClient.get_source_id"></a>

#### get\_source\_id

```python
def get_source_id(source_name: str) -> str
```

Get the ID of a source

**Arguments**:

- `source_name` _str_ - Name of the source
  

**Returns**:

- `source_id` _str_ - ID of the source

<a id="letta.client.client.LocalClient.attach_source_to_agent"></a>

#### attach\_source\_to\_agent

```python
def attach_source_to_agent(agent_id: str,
                           source_id: Optional[str] = None,
                           source_name: Optional[str] = None)
```

Attach a source to an agent

**Arguments**:

- `agent_id` _str_ - ID of the agent
- `source_id` _str_ - ID of the source
- `source_name` _str_ - Name of the source

<a id="letta.client.client.LocalClient.detach_source_from_agent"></a>

#### detach\_source\_from\_agent

```python
def detach_source_from_agent(agent_id: str,
                             source_id: Optional[str] = None,
                             source_name: Optional[str] = None)
```

Detach a source from an agent by removing all `Passage` objects that were loaded from the source from archival memory.

**Arguments**:

- `agent_id` _str_ - ID of the agent
- `source_id` _str_ - ID of the source
- `source_name` _str_ - Name of the source

**Returns**:

- `source` _Source_ - Detached source

<a id="letta.client.client.LocalClient.list_sources"></a>

#### list\_sources

```python
def list_sources() -> List[Source]
```

List available sources

**Returns**:

- `sources` _List[Source]_ - List of sources

<a id="letta.client.client.LocalClient.list_attached_sources"></a>

#### list\_attached\_sources

```python
def list_attached_sources(agent_id: str) -> List[Source]
```

List sources attached to an agent

**Arguments**:

- `agent_id` _str_ - ID of the agent
  

**Returns**:

- `sources` _List[Source]_ - List of sources

<a id="letta.client.client.LocalClient.update_source"></a>

#### update\_source

```python
def update_source(source_id: str, name: Optional[str] = None) -> Source
```

Update a source

**Arguments**:

- `source_id` _str_ - ID of the source
- `name` _str_ - Name of the source
  

**Returns**:

- `source` _Source_ - Updated source

<a id="letta.client.client.LocalClient.insert_archival_memory"></a>

#### insert\_archival\_memory

```python
def insert_archival_memory(agent_id: str, memory: str) -> List[Passage]
```

Insert archival memory into an agent

**Arguments**:

- `agent_id` _str_ - ID of the agent
- `memory` _str_ - Memory string to insert
  

**Returns**:

- `passages` _List[Passage]_ - List of inserted passages

<a id="letta.client.client.LocalClient.delete_archival_memory"></a>

#### delete\_archival\_memory

```python
def delete_archival_memory(agent_id: str, memory_id: str)
```

Delete archival memory from an agent

**Arguments**:

- `agent_id` _str_ - ID of the agent
- `memory_id` _str_ - ID of the memory

<a id="letta.client.client.LocalClient.get_archival_memory"></a>

#### get\_archival\_memory

```python
def get_archival_memory(agent_id: str,
                        before: Optional[str] = None,
                        after: Optional[str] = None,
                        limit: Optional[int] = 1000) -> List[Passage]
```

Get archival memory from an agent with pagination.

**Arguments**:

- `agent_id` _str_ - ID of the agent
- `before` _str_ - Get memories before a certain time
- `after` _str_ - Get memories after a certain time
- `limit` _int_ - Limit number of memories
  

**Returns**:

- `passages` _List[Passage]_ - List of passages

<a id="letta.client.client.LocalClient.get_messages"></a>

#### get\_messages

```python
def get_messages(agent_id: str,
                 before: Optional[str] = None,
                 after: Optional[str] = None,
                 limit: Optional[int] = 1000) -> List[Message]
```

Get messages from an agent with pagination.

**Arguments**:

- `agent_id` _str_ - ID of the agent
- `before` _str_ - Get messages before a certain time
- `after` _str_ - Get messages after a certain time
- `limit` _int_ - Limit number of messages
  

**Returns**:

- `messages` _List[Message]_ - List of messages

<a id="letta.client.client.LocalClient.list_models"></a>

#### list\_models

```python
def list_models() -> List[LLMConfig]
```

List available LLM models

**Returns**:

- `models` _List[LLMConfig]_ - List of LLM models

<a id="letta.client.client.LocalClient.list_embedding_models"></a>

#### list\_embedding\_models

```python
def list_embedding_models() -> List[EmbeddingConfig]
```

List available embedding models

**Returns**:

- `models` _List[EmbeddingConfig]_ - List of embedding models

<a id="letta.client.client.LocalClient.list_blocks"></a>

#### list\_blocks

```python
def list_blocks(label: Optional[str] = None,
                templates_only: Optional[bool] = True) -> List[Block]
```

List available blocks

**Arguments**:

- `label` _str_ - Label of the block
- `templates_only` _bool_ - List only templates
  

**Returns**:

- `blocks` _List[Block]_ - List of blocks

<a id="letta.client.client.LocalClient.create_block"></a>

#### create\_block

```python
def create_block(name: str, text: str, label: Optional[str] = None) -> Block
```

Create a block

**Arguments**:

- `label` _str_ - Label of the block
- `name` _str_ - Name of the block
- `text` _str_ - Text of the block
  

**Returns**:

- `block` _Block_ - Created block

<a id="letta.client.client.LocalClient.update_block"></a>

#### update\_block

```python
def update_block(block_id: str,
                 name: Optional[str] = None,
                 text: Optional[str] = None) -> Block
```

Update a block

**Arguments**:

- `block_id` _str_ - ID of the block
- `name` _str_ - Name of the block
- `text` _str_ - Text of the block
  

**Returns**:

- `block` _Block_ - Updated block

<a id="letta.client.client.LocalClient.get_block"></a>

#### get\_block

```python
def get_block(block_id: str) -> Block
```

Get a block

**Arguments**:

- `block_id` _str_ - ID of the block
  

**Returns**:

- `block` _Block_ - Block

<a id="letta.client.client.LocalClient.delete_block"></a>

#### delete\_block

```python
def delete_block(id: str) -> Block
```

Delete a block

**Arguments**:

- `id` _str_ - ID of the block
  

**Returns**:

- `block` _Block_ - Deleted block

