---
title: Connecting Letta to Remote MCP Servers
subtitle: Using Streamable HTTP and SSE transports
slug: guides/mcp/remote
---

Remote MCP servers work with both Letta Cloud and self-hosted deployments. Streamable HTTP is recommended for new integrations; SSE is deprecated but supported for legacy compatibility.

## Streamable HTTP

Recommended transport with Bearer token auth support.

**ADE**: Tool Manager → Add MCP Server → Streamable HTTP

<CodeGroup>
```python title="python" maxLines=50
from letta_client import Letta
from letta_client.types import StreamableHTTPServerConfig, MCPServerType

client = Letta(token="LETTA_API_KEY")

# Connect a Streamable HTTP server with Bearer token auth
streamable_config = StreamableHTTPServerConfig(
    server_name="my-server",
    type=MCPServerType.STREAMABLE_HTTP,
    server_url="https://mcp-server.example.com/mcp",
    auth_header="Authorization",
    auth_token="Bearer your-token",  # Include "Bearer " prefix
    custom_headers={"X-API-Version": "v1"}  # Additional custom headers
)
client.tools.add_mcp_server(request=streamable_config)
```
```typescript title="node.js" maxLines=50
import { LettaClient, Letta } from '@letta-ai/letta-client';

const client = new LettaClient({ token: "LETTA_API_KEY" });

// Connect a Streamable HTTP server with Bearer token auth
const streamableConfig: Letta.StreamableHttpServerConfig = {
    serverName: "my-server",
    type: Letta.McpServerType.StreamableHttp,
    serverUrl: "https://mcp-server.example.com/mcp",
    authHeader: "Authorization",
    authToken: "Bearer your-token",  // Include "Bearer " prefix
    customHeaders: {
        "X-API-Version": "v1"  // Additional custom headers
    }
};

await client.tools.addMcpServer(streamableConfig);
```
</CodeGroup>

## SSE (Deprecated)

<Warning>
SSE is deprecated. Use Streamable HTTP for new integrations.
</Warning>

For legacy MCP servers that only support SSE.

**ADE**: Tool Manager → Add MCP Server → SSE
<CodeGroup>
```python title="python" maxLines=50
from letta_client import Letta
from letta_client.types import SseServerConfig, MCPServerType

client = Letta(token="LETTA_API_KEY")

# Connect a SSE server (legacy)
sse_config = SseServerConfig(
    server_name="legacy-server",
    type=MCPServerType.SSE,
    server_url="https://legacy-mcp.example.com/sse",
    auth_header="Authorization",
    auth_token="Bearer optional-token"  # Include "Bearer " prefix
)
client.tools.add_mcp_server(request=sse_config)
```
```typescript title="node.js" maxLines=50
import { LettaClient, Letta } from '@letta-ai/letta-client';

const client = new LettaClient({ token: "LETTA_API_KEY" });

// Connect a SSE server (legacy)
const sseConfig: Letta.SseServerConfig = {
    serverName: "legacy-server",
    type: Letta.McpServerType.Sse,
    serverUrl: "https://legacy-mcp.example.com/sse",
    authHeader: "Authorization",
    authToken: "Bearer optional-token"  // Include "Bearer " prefix
};

await client.tools.addMcpServer(sseConfig);
```
</CodeGroup>


## Using Tools

**ADE**: Agent → Tools → Select MCP tools

<CodeGroup>
```python title="python" maxLines=50
from letta_client import Letta

client = Letta(token="LETTA_API_KEY")

# List tools from an MCP server
tools = client.tools.list_mcp_tools_by_server(mcp_server_name="weather-server")

# Add a specific tool from the MCP server
tool = client.tools.add_mcp_tool(
    mcp_server_name="weather-server",
    mcp_tool_name="get_weather"
)

# Create agent with MCP tool
agent_state = client.agents.create(
    model="openai/gpt-4o-mini",
    embedding="openai/text-embedding-3-small",
    tool_ids=[tool.id]
)

# Use the agent with MCP tools
response = client.agents.messages.create(
    agent_id=agent_state.id,
    messages=[
        {
            "role": "user",
            "content": "Use the weather tool to check the forecast"
        }
    ]
)
```
```typescript title="node.js" maxLines=50
import { LettaClient } from '@letta-ai/letta-client'

const client = new LettaClient({ token: "LETTA_API_KEY" });

// List tools from an MCP server
const tools = await client.tools.listMcpToolsByServer("weather-server");

// Add a specific tool from the MCP server
const tool = await client.tools.addMcpTool("weather-server", "get_weather");

// Create agent with MCP tool
const agentState = await client.agents.create({
    model: "openai/gpt-4o-mini",
    embedding: "openai/text-embedding-3-small",
    toolIds: [tool.id]
});

// Use the agent with MCP tools
const response = await client.agents.messages.create(agentState.id, {
    messages: [
        {
            role: "user",
            content: "Use the weather tool to check the forecast"
        }
    ]
});
```
</CodeGroup>
