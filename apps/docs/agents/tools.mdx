---
title: Tools 
description: 'Define and customize tools'
icon: "wrench-simple"
iconType: "solid"
---

## Letta Tools 
By default, agents in Letta are created with the following tools: 

| Tool                       | Description                                          |
|----------------------------|------------------------------------------------------|
| `send_message`             | Sends a message to the human user.                   |
| `conversation_search`      | Search prior conversation history                    |
| `conversation_search_date` | Search prior conversation history using a date range |
| `archival_memory_insert`   | Add a memory to archival memory                      |
| `archival_memory_search`   | Search archival memory via embedding search          |


## Custom Tools 
You can create custom tools in Letta in Python. When you define the function for the tool, you must make sure to have a properly formatting docstring for Letta to parse the function schema. 
```python
from letta import EmbeddingConfig, LLMConfig, create_client
from letta.schemas.tool_rule import TerminalToolRule

client = create_client()
# set automatic defaults for LLM/embedding config
client.set_default_llm_config(LLMConfig.default_config(model_name="gpt-4"))
client.set_default_embedding_config(EmbeddingConfig.default_config(model_name="text-embedding-ada-002"))


# define a function with a docstring
def roll_d20() -> str:
    """
    Simulate the roll of a 20-sided die (d20).
    
    This function generates a random integer between 1 and 20, inclusive,
    which represents the outcome of a single roll of a d20.
    
    Returns:
        str: The result of the die roll.
    """
    import random

    dice_role_outcome = random.randint(1, 20)
    output_string = f"You rolled a {dice_role_outcome}"
    return output_string


# create a tool from the function
tool = client.create_tool(roll_d20)
print(f"Created tool with name {tool.name}")
```

### Adding tools to agents
Once the tool is created, you can add it to an agent by passing the tool name to the `tools` parameter in the agent creation.
```python
# create a new agent
agent_state = client.create_agent(
    # create the agent with an additional tool
    tools=[tool.name],
)
```
You can see a full working example with custom tools [here](https://github.com/letta-ai/letta/blob/main/examples/docs/tools.py).



## External Libraries 
Letta also has early support for adding tools from external libraries like Langchain, Composio, and CrewAI. These integrations work by converting external libraries' tools into Letta tools.

### Langchain Tools 
Letta supports adding tools from Langchain. To use tools from Langchain, make sure you run `pip install 'letta[external-tools]'` to install the necessary dependencies.
```python
from langchain_community.tools import TavilySearchResults
from letta.schemas.tool import Tool

# convert the tool to a Letta tool 
search_tool = Tool.from_langchain(TavilySearchResults())

# persist the tool 
client.add_tool(search_tool)
```
Now, you can include to tool when you create agents with Letta. See a working example [here](https://github.com/letta-ai/letta/blob/main/examples/langchain_tool_usage.py).

### Composio Tools 
To use Letta with [Composio](https://docs.composio.dev/introduction/intro/overview) tools, make sure you install dependencies with `pip install 'letta[external-tools]`. Then, make sure you log in to Composio and add any necessary authentication.
```bash
composio login
composio add github
```
For example, to use 
```python
from composio_langchain import Action

# Add the composio tool
tool = Tool.get_composio_tool(
    action=Action.GITHUB_STAR_A_REPOSITORY_FOR_THE_AUTHENTICATED_USER
)

# persist the tool
client.add_tool(tool)
```
Now, you can include the tool to be used with your agent. See a working example [here](https://github.com/letta-ai/letta/blob/main/examples/composio_tool_usage.py).

### CrewAI Tools
Letta also supports adding tools from CrewAI. Make sure you first run `pip install 'letta[external-tools]'` to install the necessary dependencies.
```python
from crewai_tools import ScrapeWebsiteTool
from letta.schemas.tool import Tool 

# convert the tool to a Letta tool
webscrape_tool = client.create_tool(Tool.from_crewai(ScrapeWebsiteTool()))

# persist the tool
client.add_tool(webscrape_tool)
```
Now, you can include the tool when you create agents with Letta. See a working example [here](https://github.com/letta-ai/letta/blob/main/examples/crewai_tool_usage.py).

## Excluding default tools 

To skip adding default tools, you can add in `include_default_tools=False` to the agent creation:
```python
# create an agent with only a subset of default tools
agent_state = client.create_agent(
    include_base_tools=False, 
    tools=["send_message"]
)
```
This will create an agent with only the `send_message` tool, so the agent will have no ability to manage memory or search conversation history.

## Tool Rules 
Tool rules allows developer to define constrains on their tools, such as requiring that a tool terminate agent execution or be followed by another tool. We added the following tool rules: 
*  `TerminalToolRule(tool_name=...)` - If the tool is called, the agent ends execution 
* `InitToolRule(tool_name=...)` - The tool must be called first when an agent is run 
* `ToolRule(tool_name=..., children=[...])` - If the tool is called, it must be followed by one of the tools specified in `children`


<Note> By default, the `send_message` tool is marked with `TerminalToolRule`, since you usually do not want to agent to continue executing after it has send message to the user. </Note>

For example, you can ensure that the agent will stop execution if either the `send_message` or `roll_d20` tool is called by specifying tool rules in the agent creation:
```python Python
# create a new agent
agent_state = client.create_agent(
    # create the agent with an additional tool
    tools=[tool.name],
    # add tool rules that terminate execution after specific tools
    tool_rules=[
        # exit after roll_d20 is called
        TerminalToolRule(tool_name=tool.name),
        # exit after send_message is called (default behavior)
        TerminalToolRule(tool_name="send_message"),
    ],
)
print(f"Created agent with name {agent_state.name} with tools {agent_state.tools}")

```

You can see a full working example of tool rules [here](https://github.com/letta-ai/letta/blob/0.5.2/examples/tool_rule_usage.py).
